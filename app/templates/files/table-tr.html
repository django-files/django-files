{% load tz %}
{% load home_tags %}

{% if file.file %}
<tr id="file-{{ file.id }}">
    <td class="d-none d-sm-table-cell text-center align-middle">{{ file.id }}</td>

    <td class="align-middle">
        <span class="d-none d-sm-inline">
            <a class="clip" role="button" data-clipboard-text="{{ request.scheme }}://{{ request.get_host }}{{ file.preview_uri }}">
                <i class="fa-regular fa-clipboard text-white ms-2"></i></a></span>
        <a class="link-body-emphasis" role="button" href="{{ file.preview_uri }}">
            {{ file.name }}</a></td>

    <td class="d-none d-sm-table-cell align-middle">
        <a class="clip link-body-emphasis text-decoration-none" role="button"
           data-clipboard-text="{{ file.get_size }}">{{ file.get_size }}</a></td>

    <td class="d-none d-lg-table-cell align-middle">
        <a class="clip link-body-emphasis text-decoration-none" role="button"
           data-clipboard-text="{{ file.mime }}">{{ file.mime }}</a></td>

    <td class="d-none d-xl-table-cell align-middle">
        <a class="clip link-body-emphasis text-decoration-none" role="button"
           data-clipboard-text="{{ file.date|localtime }}">{{ file.date|localtime }}</a></td>

    <td class="d-none d-md-table-cell align-middle">
        <a class="clip link-body-emphasis text-decoration-none expire-value" role="button"
           data-clipboard-text="{{ file.expr|default:'Never' }}">{{ file.expr|default:'Never' }}</a></td>

    <td class="d-none d-sm-table-cell align-middle"> <!-- {{ file.password }} -->
        <i class="fa-solid fa-key text-warning-emphasis passwordStatus" {% if not file.password %}style="display: none"{% endif %}></i></td>

    <td class="d-none d-sm-table-cell align-middle">
        <i class="fa-solid fa-lock text-warning-emphasis privateStatus" {% if not file.private %}style="display: none"{% endif %}></i></td>

    <td class="d-none d-sm-table-cell align-middle">
        <a class="clip link-body-emphasis text-decoration-none" role="button" data-clipboard-text="{{ file.view }}">{{ file.view }}</a></td>

    <td class="text-center">
        <button class="btn btn-secondary file-context-dropdown my-0 py-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fa-regular fa-square-caret-down"></i>
        </button>{% if not nocontextmenu %}{% include 'files/file-context-menu.html' %}{% endif %}
        
    </td>
</tr>
{% endif %}
