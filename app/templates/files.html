{% extends "main.html" %}
{% load static %}
{% load tz %}
{% load home_tags %}
{% load cache %}
{% block files_active %}active{% endblock %}
{% block title %}Files{% endblock %}

{% block head %}{% endblock %}

{% block body %}
    <div class="container-fluid py-3 px-4">

        <h1>Files List</h1>

        {% cache 86400 files_files request.user %}

            {% if files %}
                <p class="lead">Total Files: <strong>{{ files|length }}</strong></p>
                <p><em><a href="{% url 'home:uppy' %}">Click Here</a> to upload files.</em></p>
                {% include 'include/files-table.html' with files=files  %}
            {% else %}
                <p class="lead">No files found. Perhaps you forgot to <a href="{% url 'home:uppy' %}">upload some files</a>...</p>
            {% endif %}

        {% endcache %}

    </div>
{% endblock %}

{% block tail %}
    <script type="text/javascript" src="{% static 'main/js/files.js' %}"></script>
{% endblock %}
